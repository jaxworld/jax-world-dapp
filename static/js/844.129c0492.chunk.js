"use strict";(self.webpackChunkjaxworld_dapp=self.webpackChunkjaxworld_dapp||[]).push([[844],{844:(e,t,i)=>{i.d(t,{walletConnect:()=>g});var n=i(46039),a=i(40744),s=i(95768),o=i(86750),r=i(70119),l=i(67670),h=i(15920),c=(i(62349),i(89304),new WeakMap),d=new WeakMap,p=new WeakMap,v=new WeakMap,w=new WeakMap,b=new WeakMap,u=new WeakMap,_=new WeakMap,m=new WeakSet,W=new WeakSet;class f extends r.a{get walletName(){return"WalletConnect"}constructor(e){super((null===e||void 0===e?void 0:e.walletId)||f.id,e),(0,n._)(this,W),(0,n._)(this,m),(0,s._)(this,c,{writable:!0,value:void 0}),(0,s._)(this,d,{writable:!0,value:void 0}),(0,a._)(this,"connector",void 0),(0,a._)(this,"projectId",void 0),(0,a._)(this,"qrcode",void 0),(0,s._)(this,p,{writable:!0,value:e=>{if(e)throw e}}),(0,s._)(this,v,{writable:!0,value:e=>{if((0,s.a)(this,d,e.provider),!(0,s.b)(this,d))throw new Error("WalletConnect provider not found after connecting.")}}),(0,s._)(this,w,{writable:!0,value:()=>{(0,n.a)(this,W,M).call(this)}}),(0,s._)(this,b,{writable:!0,value:async e=>{e.chain||e.account}}),(0,s._)(this,u,{writable:!0,value:e=>{if("display_uri"===e.type)this.emit("open_wallet",e.data)}}),(0,s._)(this,_,{writable:!0,value:()=>{this.emit("open_wallet")}}),this.projectId=(null===e||void 0===e?void 0:e.projectId)||l.T,this.qrcode=!1!==(null===e||void 0===e?void 0:e.qrcode)}async getConnector(){if(!this.connector){var e;const{WalletConnectConnector:t}=await i.e(5334).then(i.bind(i,65334));(0,s.a)(this,c,new t({chains:this.chains,options:{qrcode:this.qrcode,projectId:this.projectId,dappMetadata:this.dappMetadata,storage:this.walletStorage,qrModalOptions:null===(e=this.options)||void 0===e?void 0:e.qrModalOptions}})),this.connector=new o.W((0,s.b)(this,c)),(0,s.a)(this,d,await(0,s.b)(this,c).getProvider()),(0,n.a)(this,m,k).call(this)}return this.connector}}function k(){var e;(0,s.b)(this,c)&&((0,n.a)(this,W,M).call(this),(0,s.b)(this,c).on("connect",(0,s.b)(this,v)),(0,s.b)(this,c).on("disconnect",(0,s.b)(this,w)),(0,s.b)(this,c).on("change",(0,s.b)(this,b)),(0,s.b)(this,c).on("message",(0,s.b)(this,u)),null===(e=(0,s.b)(this,d))||void 0===e||e.signer.client.on("session_request_sent",(0,s.b)(this,_)))}function M(){var e;(0,s.b)(this,c)&&((0,s.b)(this,c).removeListener("connect",(0,s.b)(this,v)),(0,s.b)(this,c).removeListener("disconnect",(0,s.b)(this,w)),(0,s.b)(this,c).removeListener("change",(0,s.b)(this,b)),(0,s.b)(this,c).removeListener("message",(0,s.b)(this,u)),null===(e=(0,s.b)(this,d))||void 0===e||e.signer.client.removeListener("session_request_sent",(0,s.b)(this,_)))}(0,a._)(f,"id",h.w.walletConnect),(0,a._)(f,"meta",{name:"WalletConnect",iconURL:"ipfs://QmX58KPRaTC9JYZ7KriuBzeoEaV2P9eZcA3qbFnTHZazKw/wallet-connect.svg"});const g=e=>{const t=(null===e||void 0===e?void 0:e.projectId)||"145769e410f16970a79ff77b2d89a1e0";return{id:f.id,meta:f.meta,create:i=>new f({...i,qrcode:!0,projectId:t,qrModalOptions:null===e||void 0===e?void 0:e.qrModalOptions})}}}}]);